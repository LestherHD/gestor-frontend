import{a as We,b as He}from"./chunk-JNU6KBJY.js";import"./chunk-6XRQKVRX.js";import{a as q,b as qe,d as Re}from"./chunk-CXRTNPGF.js";import{a as Be}from"./chunk-DQONFXU5.js";import{a as Me,b as Te,c as Ge}from"./chunk-IJZF6LZQ.js";import{c as je,d as S,e as ke,f as N,g as E,j as u,l as Ae,m as U,o as Le,p as K,r as Oe,s as ze,t as De,u as Ne,v as Ue,x as Ke,y as G}from"./chunk-G72JZGS3.js";import"./chunk-MLKNRXY2.js";import{Bb as se,Cd as Ee,Dd as ye,Ea as n,Eb as D,Ed as Fe,Fa as a,Ga as w,Ja as ee,Ka as b,M as L,Ma as h,Na as p,Oc as fe,Pc as he,Qa as T,Sc as ge,T as _,Ta as te,U as f,Ua as ie,V as y,Va as oe,Vd as Ie,W as Q,Wa as J,Xa as o,Ya as P,Za as x,Zb as le,_ as X,_a as Z,ab as B,bb as j,ca as Y,cb as k,eb as O,fa as l,ga as I,kd as ve,ld as Ce,le as Ve,md as be,ob as re,qc as ce,ra as g,rb as ne,rc as me,rd as xe,sc as de,ua as c,uc as pe,ud as Se,wd as we,xc as ue,xd as Pe,yb as ae,zb as z,zc as _e}from"./chunk-5KS4DSO7.js";import{k as $}from"./chunk-LTV2K23E.js";var A=class{constructor(m,t,r,i,e,d,v,C,F,V){this.id=m,this.nombre=t,this.descripcion=r,this.precio=i,this.imagen=e,this.tipoProducto=d,this.rangoPrecioInicio=v,this.rangoPrecioFin=C,this.caracteristicas=F,this.estado=V}};var R=class{constructor(m,t,r){this.producto=m,this.page=t,this.size=r}};var W=class{constructor(m,t,r,i,e){this.id=m,this.producto=t,this.caracteristica=r,this.valor=i,this.precio=e}};function Xe(s,m){if(s&1){let t=b();n(0,"div",5)(1,"label",6),o(2,"Cargar Imagen"),a(),n(3,"input",7),h("change",function(i){_(t);let e=p();return f(e.onFileChange(i))}),a()()}}function Ye(s,m){if(s&1&&(n(0,"div",8),w(1,"img",9),a()),s&2){let t=p();l(),c("src",t.imagePreview,Y)}}function et(s,m){if(s&1&&(n(0,"div",10),o(1),a()),s&2){let t=p();l(),x(" ",t.errorMessage," ")}}var $e=(()=>{let m=class m{constructor(r){this.fb=r,this.fileChange=new X,this.imagePreview=null,this.errorMessage="",this.imagePreview=null,this.errorMessage=null}ngOnInit(){if(this.imageForm=new E({image:new u({value:"",disabled:!0})}),this.imageSrc&&this.imageSrc.trim()!==""){let r=this.base64ToBlob(this.imageSrc);this.imagePreview=this.blobToUrl(r)}}onFileChange(r){let i=r.target;if(i.files&&i.files[0]){let e=i.files[0];if(!e.type.match("image/jpeg")&&!e.type.match("image/png")){this.errorMessage="Solo se permiten im\xE1genes JPG y PNG.";return}let d=new FileReader;d.onload=()=>{let v=d.result;if(typeof v=="string"){let C=new Image;C.src=v,C.onload=()=>{let F=C.width,V=C.height;if(F<this.minWidth||V<this.minHeight||F>this.maxWidth||V>this.maxHeight)this.errorMessage="La imagen debe tener entre "+this.minHeight+"x"+this.minWidth+" y "+this.maxHeight+"x"+this.maxWidth+" p\xEDxeles.",this.fileChange.emit(""),this.imagePreview=null;else{this.errorMessage=null;let H=v.split(",")[1];this.fileChange.emit(H),this.imagePreview=d.result}}}else this.errorMessage="Error al leer el archivo"},d.readAsDataURL(e)}}base64ToBlob(r){let i=atob(r),e=new Uint8Array(i.length);for(let d=0;d<i.length;d++)e[d]=i.charCodeAt(d);return new Blob([e],{type:"image/jpeg"})}blobToUrl(r){return URL.createObjectURL(r)}};m.\u0275fac=function(i){return new(i||m)(I(Ue))},m.\u0275cmp=L({type:m,selectors:[["app-image-upload"]],inputs:{minWidth:"minWidth",minHeight:"minHeight",maxWidth:"maxWidth",maxHeight:"maxHeight",modo:"modo",imageSrc:"imageSrc"},outputs:{fileChange:"fileChange"},standalone:!0,features:[O],decls:5,vars:4,consts:[[1,"container"],[3,"formGroup"],["class","form-group",4,"ngIf"],["class","justify-content-center d-flex",4,"ngIf"],["class","alert alert-danger",4,"ngIf"],[1,"form-group"],["for","imageUpload"],["type","file","id","imageUpload","accept",".jpg, .jpeg, .png",1,"form-control",3,"change"],[1,"justify-content-center","d-flex"],["alt","Vista Previa",1,"img-thumbnail",2,"max-width","350px","max-height","270px",3,"src"],[1,"alert","alert-danger"]],template:function(i,e){i&1&&(n(0,"div",0)(1,"form",1),g(2,Xe,4,0,"div",2)(3,Ye,2,1,"div",3)(4,et,2,1,"div",4),a()()),i&2&&(l(),c("formGroup",e.imageForm),l(),c("ngIf",e.modo!==3),l(),c("ngIf",e.imagePreview),l(),c("ngIf",e.errorMessage&&e.modo!==3))},dependencies:[D,z,G,U,N,K],styles:[".container[_ngcontent-%COMP%]{max-width:600px;margin:auto}.img-thumbnail[_ngcontent-%COMP%]{margin-top:20px}"]});let s=m;return s})();var tt=["topElement"];function it(s,m){if(s&1){let t=b();n(0,"button",55),h("click",function(){_(t);let i=p().$implicit,e=p();return f(e.modal(2,i))}),o(1,`
                    `),y(),w(2,"svg",56),o(3,`
                  `),a()}}function ot(s,m){if(s&1){let t=b();n(0,"button",57),h("click",function(){_(t);let i=p().$implicit,e=p();return f(e.modalEliminar(i))}),o(1,`
                    `),y(),w(2,"svg",58),o(3,`
                  `),a()}}function rt(s,m){if(s&1){let t=b();n(0,"button",59),h("click",function(){_(t);let i=p().$implicit,e=p();return f(e.modalActivar(i))}),o(1,`
                    `),y(),w(2,"svg",60),o(3,`
                  `),a()}}function nt(s,m){if(s&1){let t=b();n(0,"tr"),o(1,`
                `),n(2,"td"),o(3),a(),o(4,`
                `),n(5,"td"),o(6),a(),o(7,`
                `),n(8,"td"),o(9),a(),o(10,`
                `),n(11,"td"),o(12),a(),o(13,`
                `),n(14,"td"),o(15),a(),o(16,`
                `),n(17,"td"),o(18),a(),o(19,`
                `),n(20,"td"),o(21,`
                  `),n(22,"button",10),h("click",function(){let i=_(t).$implicit,e=p();return f(e.modal(3,i))}),o(23,`
                    `),y(),w(24,"svg",51),o(25,`
                  `),a(),o(26,`
                  `),g(27,it,4,0,"button",52),o(28,`
                  `),g(29,ot,4,0,"button",53),o(30,`
                  `),g(31,rt,4,0,"button",54),o(32,`

                `),a(),o(33,`
              `),a()}if(s&2){let t=m.$implicit,r=p();l(3),P(t.id),l(3),P(t.nombre),l(3),P(t.descripcion),l(3),x("Q",r.functionsUtils.formatPrice(t.precio),""),l(3),P(t.tipoProducto?t.tipoProducto.nombre:""),l(3),P(t.estado==="A"?"Activo":"Inactivo"),l(9),c("ngIf",t.estado==="A"),l(2),c("ngIf",t.estado==="A"),l(2),c("ngIf",t.estado==="I")}}function at(s,m){if(s&1&&(n(0,"c-alert",61),o(1),a()),s&2){let t=p();T("color",t.type),l(),P(t.mensaje)}}function st(s,m){s&1&&(n(0,"c-input-group",32)(1,"div",28)(2,"label",62),o(3,"Id"),a(),w(4,"input",63),a()())}function lt(s,m){s&1&&(n(0,"c-form-feedback",35),o(1,"Campo requerido."),a()),s&2&&c("valid",!1)}function ct(s,m){s&1&&(n(0,"c-form-feedback",35),o(1,"Solo se permiten valores num\xE9ricos, m\xE1ximo 4 enteros y 2 decimales"),a()),s&2&&c("valid",!1)}function mt(s,m){if(s&1&&(n(0,"option",64),o(1),a()),s&2){let t=m.$implicit;c("value",t.id),l(),x(" ",t.nombre," ")}}function dt(s,m){if(s&1){let t=b();n(0,"app-image-upload",65),h("fileChange",function(i){_(t);let e=p();return f(e.recibirImagen(i))}),a()}if(s&2){let t=p();c("maxHeight",700)("minHeight",500)("maxWidth",700)("minWidth",500)("modo",t.modo)("imageSrc",t.imageSrc)}}function pt(s,m){if(s&1&&(n(0,"label",44),o(1),a()),s&2){let t=p();l(),x("Caracter\xEDsticas ",t.modo===1||t.modo===2?"*":"","")}}function ut(s,m){if(s&1){let t=b();n(0,"a",74),h("click",function(){let i=_(t).$implicit;return f(i.seleccionado=!i.seleccionado)}),o(1),a()}if(s&2){let t=m.$implicit,r=p(2);c("active",t.seleccionado)("disabled",!t.seleccionado&&r.validarSeleccionados()),l(),P(t.nombre)}}function _t(s,m){if(s&1){let t=b();n(0,"a",75),h("click",function(){let i=_(t).$implicit;return f(i.seleccionado=!i.seleccionado)}),o(1),a()}if(s&2){let t=m.$implicit;c("active",t.seleccionado),l(),P(t.nombre)}}function ft(s,m){if(s&1){let t=b();n(0,"div",66)(1,"c-input-group",67)(2,"div",68)(3,"div",69),g(4,ut,2,3,"a",70),a()(),n(5,"div",71)(6,"button",72),h("click",function(){_(t);let i=p();return f(i.moverADerecha())}),o(7,">"),a()(),n(8,"div",71)(9,"button",72),h("click",function(){_(t);let i=p();return f(i.moverAIzquierda())}),o(10,"<"),a()(),n(11,"div",68)(12,"div",69),g(13,_t,2,2,"a",73),a()()()()}if(s&2){let t=p();l(4),c("ngForOf",t.listaCaracteristicas2),l(2),c("disabled",!t.listaCaracteristicas2||t.listaCaracteristicas2&&t.listaCaracteristicas2.length===0||t.listaCaracteristicasSeleccionadas&&t.listaCaracteristicasSeleccionadas.length>4||!t.mostrarAccordion),l(3),c("disabled",!t.listaCaracteristicasSeleccionadas||t.listaCaracteristicasSeleccionadas&&t.listaCaracteristicasSeleccionadas.length===0||!t.mostrarAccordion),l(4),c("ngForOf",t.listaCaracteristicasSeleccionadas)}}function ht(s,m){s&1&&ee(0)}function gt(s,m){if(s&1&&(n(0,"div"),g(1,ht,1,0,"ng-container",76),a()),s&2){p();let t=J(182);l(),c("ngTemplateOutlet",t)}}function vt(s,m){if(s&1&&(n(0,"c-alert",61),o(1),a()),s&2){let t=p();T("color",t.type),l(),P(t.mensaje)}}function Ct(s,m){if(s&1&&(n(0,"form",77)(1,"span",78),o(2),a()()),s&2){let t=p();c("formGroup",t.formEliminar),l(2),Z("Confirmar inactivar el registro: ",t.formEliminar.controls.id.value," - ",t.formEliminar.controls.nombre.value,"")}}function bt(s,m){if(s&1&&(n(0,"c-alert",61),o(1),a()),s&2){let t=p();T("color",t.type),l(),P(t.mensaje)}}function xt(s,m){if(s&1&&(n(0,"form",77)(1,"span",78),o(2),a()()),s&2){let t=p();c("formGroup",t.formEliminar),l(2),Z("Confirmar activar el registro: ",t.formEliminar.controls.id.value," - ",t.formEliminar.controls.nombre.value,"")}}function St(s,m){if(s&1&&(n(0,"c-alert",61),o(1),a()),s&2){let t=p();T("color",t.type),l(),P(t.mensaje)}}function wt(s,m){if(s&1&&(n(0,"option",64),o(1),a()),s&2){let t=m.$implicit;c("value",t.codigo),l(),x(" ",t.descripcion," ")}}function Pt(s,m){if(s&1&&(n(0,"option",64),o(1),a()),s&2){let t=m.$implicit;c("value",t.codigo),l(),x(" ",t.descripcion," ")}}function Et(s,m){if(s&1&&(n(0,"option",64),o(1),a()),s&2){let t=m.$implicit;c("value",t.id),l(),x(" ",t.nombre," ")}}function yt(s,m){if(s&1){let t=b();n(0,"div")(1,"form",29)(2,"div",7)(3,"c-input-group",32)(4,"div",28)(5,"label",62),o(6,"Id"),a(),n(7,"input",79),h("blur",function(){_(t);let i=p();return f(i.functionsUtils.removeSpaces("nombre",i.formFiltros))}),a()()(),n(8,"c-input-group",32)(9,"div",28)(10,"label",44),o(11,"Nombre"),a(),n(12,"input",80),h("blur",function(){_(t);let i=p();return f(i.functionsUtils.removeSpaces("nombre",i.formFiltros))}),a()()(),n(13,"c-input-group",32)(14,"div",28)(15,"label",44),o(16,"Precio inicio"),a(),n(17,"select",81),g(18,wt,2,2,"option",43),a()()(),n(19,"c-input-group",32)(20,"div",28)(21,"label",44),o(22,"Precio fin"),a(),n(23,"select",82),g(24,Pt,2,2,"option",43),a()()(),n(25,"c-input-group",32)(26,"div",28)(27,"label",44),o(28,"Tipo de producto"),a(),n(29,"select",83),g(30,Et,2,2,"option",43),a()()(),n(31,"c-input-group",32)(32,"div",28)(33,"label",44),o(34,"Estado"),a(),n(35,"select",84)(36,"option",64),o(37," --Todos-- "),a(),n(38,"option",64),o(39," Activo "),a(),n(40,"option",64),o(41," Inactivo "),a()()()()()()()}if(s&2){let t=p();l(),c("formGroup",t.formFiltros),l(11),c("maxLength",50),l(6),c("ngForOf",t.dataUtils.listaRangoPrecios),l(6),c("ngForOf",t.dataUtils.listaRangoPrecios),l(6),c("ngForOf",t.listaTipoProducto),l(6),c("value",""),l(2),c("value","A"),l(2),c("value","I")}}function Ft(s,m){s&1&&(n(0,"p",89)(1,"span",90),o(2,"Nota: "),a(),o(3," Los valores deben de tener m\xEDnimo 1 caracter y m\xE1ximo 70, de lo contrario se deshabilitar\xE1 el bot\xF3n Agregar (bot\xF3n del lado derecho del valor)"),a())}function It(s,m){if(s&1&&(n(0,"c-alert",91),o(1),a()),s&2){let t=p(2);l(),P(t.mensaje2)}}function Vt(s,m){if(s&1){let t=b();n(0,"button",95),h("click",function(){_(t);let i=p().$implicit,e=J(1),d=p(2);return e.toggleItem(),f(d.filtrarCaracteristicasProducto(i))}),o(1),a()}if(s&2){let t=p().$implicit;c("collapsed",!0),l(),x(" ",t.nombre," ")}}function Mt(s,m){if(s&1){let t=b();n(0,"button",103),h("click",function(){_(t);let i=p().$implicit,e=p(5);return f(e.eliminarCaracteristicaProducto(i))}),y(),w(1,"svg",104),a()}if(s&2){let t=p(6);c("disabled",t.deshabilitarFuncionalidadValores&&t.mostrarMensaje)}}function Tt(s,m){if(s&1){let t=b();n(0,"div",100),h("show",function(){_(t);let i=p(3).$implicit,e=p(2);return f(e.filtrarCaracteristicasProducto(i))}),n(1,"div",96)(2,"div",97)(3,"input",101),k("ngModelChange",function(i){let e=_(t).$implicit;return j(e.valor,i)||(e.valor=i),f(i)}),h("blur",function(){let i=_(t).$implicit,e=p(5);return f(e.removeSpacesString(i.valor,i))}),a()(),n(4,"div",97)(5,"input",101),k("ngModelChange",function(i){let e=_(t).$implicit;return j(e.precio,i)||(e.precio=i),f(i)}),h("blur",function(){let i=_(t).$implicit,e=p(5);return f(e.removeSpacesString(i.precio.toString(),i))}),a()(),n(6,"div",71),g(7,Mt,2,1,"button",102),a()()()}if(s&2){let t=m.$implicit,r=p(5);l(3),c("maxLength",70),B("ngModel",t.valor),c("disabled",!0)("valid",r.functionsUtils.campoRequeridoFormControl(r.valorCaracteristicaLista)==1?!1:null),l(2),c("maxLength",7),B("ngModel",t.precio),c("disabled",!0)("valid",r.functionsUtils.campoRequeridoFormControl(r.precioCaracteristicaLista)==1?!1:null),l(2),c("ngIf",r.modo!==3)}}function Bt(s,m){if(s&1&&(n(0,"div"),g(1,Tt,8,9,"div",99),a()),s&2){let t=p(4);l(),c("ngForOf",t.listaCaracteristicasProducto2)}}function jt(s,m){s&1&&(n(0,"c-form-feedback",35),o(1,"Campo requerido."),a()),s&2&&c("valid",!1)}function kt(s,m){s&1&&(n(0,"c-form-feedback",35),o(1,"Solo se permiten valores num\xE9ricos, m\xE1ximo 4 enteros y 2 decimales"),a()),s&2&&c("valid",!1)}function At(s,m){if(s&1){let t=b();n(0,"div",105)(1,"div",96)(2,"div",97)(3,"input",106),h("blur",function(){_(t);let i=p(4);return f(i.functionsUtils.removeSpacesFormControl(i.valorCaracteristica))}),a(),g(4,jt,2,1,"c-form-feedback",40),a(),n(5,"div",97)(6,"input",106),h("blur",function(){_(t);let i=p(4);return f(i.functionsUtils.removeSpacesFormControl(i.precioCaracteristica))}),a(),g(7,kt,2,1,"c-form-feedback",40),a(),n(8,"div",71)(9,"button",107),h("click",function(){_(t);let i=p(2).$implicit,e=p(2);return f(e.agregarCaracteristicaProducto(i,e.valorCaracteristica.value,e.precioCaracteristica.value))}),y(),w(10,"svg",11),a()()()()}if(s&2){let t=p(4);l(3),c("maxLength",70)("formControl",t.valorCaracteristica)("disabled",!0)("valid",t.campoRequerido(t.valorCaracteristica,"CR")==1&&t.valorCaracteristica.touched?!1:null),l(),c("ngIf",t.valorCaracteristica.touched),l(2),c("maxLength",7)("formControl",t.precioCaracteristica)("disabled",!0)("valid",t.campoRequerido(t.precioCaracteristica,"DI")==4&&t.precioCaracteristica.touched?!1:null),l(),c("ngIf",t.precioCaracteristica.touched),l(2),c("disabled",t.precioInvalido||t.deshabilitarFuncionalidadValores&&t.mostrarMensaje||t.valorCaracteristica.value.trim()===""||t.precioCaracteristica.value.trim()==="")}}function Lt(s,m){if(s&1&&(n(0,"div",96)(1,"div",97)(2,"label"),o(3,"Valor: "),a()(),n(4,"div",97)(5,"label"),o(6,"Precio: "),a()()(),g(7,Bt,2,1,"div",48)(8,At,11,11,"div",98)),s&2){let t=p(3);l(7),c("ngIf",t.listaCaracteristicasProducto2),l(),c("ngIf",t.listaCaracteristicasProducto2&&t.listaCaracteristicasProducto2.length<5&&t.modo!==3)}}function Ot(s,m){s&1&&(n(0,"c-accordion-item",92,2),g(2,Vt,2,2,"ng-template",93)(3,Lt,9,2,"ng-template",94),a()),s&2&&c("visible",!1)}function zt(s,m){if(s&1&&(n(0,"c-accordion",85),g(1,Ft,4,0,"p",86)(2,It,2,1,"c-alert",87)(3,Ot,4,1,"c-accordion-item",88),a()),s&2){let t=p();c("flush",!0),l(),c("ngIf",t.modo!==3&&t.listaCaracteristicasSeleccionadas&&t.listaCaracteristicasSeleccionadas.length>0),l(),c("ngIf",t.mostrarMensaje2),l(),c("ngForOf",t.listaCaracteristicasSeleccionadas)}}var vi=(()=>{let m=class m{constructor(r,i,e,d){this.service=r,this.dataUtils=i,this.functionsUtils=e,this.cdr=d,this.deshabilitarBotones=!1,this.deshabilitarFuncionalidadValores=!1,this.precioInvalido=!1,this.mostrarMensaje=!1,this.itemsLeft=["1","2","3","4","5"],this.itemsRight=[],this.listResponse=[],this.type="",this.mensaje="",this.nombreAccion="",this.modo=0,this.deshabilitarBotones=!1,this.mostrarMensaje=!1,this.mostrarModalFiltro=!1,this.mostrarModalCrud=!1,this.mostrarModalEliminar=!1,this.mostrarModalActivar=!1,this.pagination=new q,this.pagination.page=0,this.pagination.pageSize=10,this.pagination.maxSize=4,this.mostrarImagen=!1,this.mostrarMensaje2=!1,this.mensaje2=""}ngOnInit(){this.resetFormFiltros(),this.formFiltrosBK=this.formFiltros,this.resetForm(),this.getValuesByPage("","",null,null,null,null,this.pagination.page,this.pagination.pageSize),this.cargarListas(),this.valorCaracteristica=new u(""),this.valorCaracteristicaLista=new u("",S.required),this.precioCaracteristica=new u(null),this.precioCaracteristicaLista=new u(null,S.required),this.mostrarImagen=!1}filtrar(){this.mostrarModalFiltro=!1,this.deshabilitarBotones=!0,this.formFiltrosBK=new E({id:new u({value:this.formFiltros.controls.id.value.toString().trim(),disabled:!0}),nombre:new u({value:this.formFiltros.controls.nombre.value.toString().trim(),disabled:!0}),precioInicio:new u({value:this.formFiltros.controls.precioInicio.value.toString().trim(),disabled:!0}),precioFin:new u({value:this.formFiltros.controls.precioFin.value.toString().trim(),disabled:!0}),tipoProducto:new u({value:this.formFiltros.controls.tipoProducto.value.toString().trim(),disabled:!0}),estado:new u({value:this.formFiltros.controls.estado.value.toString().trim(),disabled:!0})}),this.getValuesByPage(this.formFiltrosBK.controls.id.value.toString().trim(),this.formFiltrosBK.controls.nombre.value.toString(),this.formFiltrosBK.controls.precioInicio.value,this.formFiltrosBK.controls.precioFin.value,this.formFiltrosBK.controls.tipoProducto.value,this.formFiltrosBK.controls.estado.value,0,this.pagination.pageSize)}changePage(r){this.pagination.page=r,this.getValuesByPage(this.formFiltrosBK.controls.id.value.toString().trim(),this.formFiltrosBK.controls.nombre.value.toString(),this.formFiltrosBK.controls.precioInicio.value,this.formFiltrosBK.controls.precioFin.value,this.formFiltrosBK.controls.tipoProducto.value,this.formFiltrosBK.controls.estado.value,this.pagination.page,this.pagination.pageSize)}changeSize(r){this.pagination.pageSize=r.value,this.getValuesByPage(this.formFiltrosBK.controls.id.value.toString().trim(),this.formFiltrosBK.controls.nombre.value.toString(),this.formFiltrosBK.controls.precioInicio.value,this.formFiltrosBK.controls.precioFin.value,this.formFiltrosBK.controls.tipoProducto.value,this.formFiltrosBK.controls.estado.value,0,this.pagination.pageSize)}getValuesByPage(r,i,e,d,v,C,F,V){this.pagination.page=F+1;let H=new R(new A(r,i,"",0,null,v===""?null:this.listaTipoProducto?this.listaTipoProducto.find(M=>M.id===Number(v)):null,e===""||e===null?null:Number(e),d===""||d===null?null:Number(d),null,C||null),F,V);this.service.mostrarSpinner=!0,this.service.getFromEntityByPage("productos",H).subscribe(M=>{this.listResponse=M.content,this.pagination.collectionSize=M.totalElements,this.service.mostrarSpinner=!1},M=>{this.service.mostrarSpinner=!1,console.error("Error al consumir Get All")})}resetFormFiltros(){this.formFiltros=new E({id:new u(""),nombre:new u(""),precioInicio:new u(""),precioFin:new u(""),tipoProducto:new u(""),estado:new u("")})}resetForm(){this.form=new E({id:new u({value:"",disabled:!0}),nombre:new u("",S.required),descripcion:new u("",S.required),precio:new u("",S.required),imagen:new u(""),tipoProducto:new u("",S.required)})}llenarForm(r){this.form=new E({id:new u({value:r.id,disabled:!0}),nombre:new u(r.nombre,S.required),descripcion:new u(r.descripcion,S.required),precio:new u(r.precio,S.required),imagen:new u(r.imagen),tipoProducto:new u(r.tipoProducto.id,S.required)})}llenarFormDisabled(r){this.form=new E({id:new u({value:r.id,disabled:!0}),nombre:new u({value:r.nombre,disabled:!0},S.required),descripcion:new u({value:r.descripcion,disabled:!0},S.required),precio:new u({value:r.precio,disabled:!0},S.required),imagen:new u({value:r.imagen,disabled:!0}),tipoProducto:new u({value:r.tipoProducto.id,disabled:!0},S.required)})}llenarObjeto(r){let i=new A(r.controls.id.value,r.controls.nombre.value,r.controls.descripcion.value.toString().trim(),r.controls.precio.value,r.controls.imagen.value,this.listaTipoProducto?this.listaTipoProducto.find(e=>e.id===Number(r.controls.tipoProducto.value.toString().trim())):null,0,0,null,"A");return i.caracteristicas=this.listaCaracteristicasProducto,i.imageSrc=this.imageSrc,i}cargarListas(){this.service.getAllItemsFromEntity("tipoProducto").subscribe(r=>{this.listaTipoProducto=r},r=>{console.error(r)}),this.listaCaracteristicas=[],this.service.getAllItemsFromEntity("caracteristicas").subscribe(r=>{this.listaCaracteristicas=r,this.listaCaracteristicas&&this.listaCaracteristicas.length>0&&this.listaCaracteristicas.forEach(i=>{i.seleccionado=!1,i.visible=!1})},r=>{console.error(r)}),this.listaCaracteristicas2=[],this.listaCaracteristicasProducto=[],this.listaCaracteristicasProductoBK=[],this.listaCaracteristicasProducto2=[],this.listaCaracteristicasSeleccionadas=[]}modal(r,i){if(this.mostrarMensaje2=!1,this.mensaje2="",this.resetForm(),this.mostrarImagen=!0,this.imageSrc=i?i.imagen:"",this.mostrarAccordion=!0,this.listaCaracteristicasProducto=[],this.listaCaracteristicasProductoBK=[],this.listaCaracteristicasProducto2=[],this.listaCaracteristicas2=this.listaCaracteristicas,this.listaCaracteristicasSeleccionadas=[],this.valorCaracteristica=new u(""),this.precioCaracteristica=new u(""),this.mostrarModalCrud=!0,this.modo=r,this.deshabilitarBotones=!1,this.listaCaracteristicas2&&(this.listaCaracteristicas2.forEach(e=>{i&&i.caracteristicas&&(i.caracteristicas.some(v=>v.caracteristica.id===e.id)?e.seleccionado=!0:e.seleccionado=!1)}),this.moverADerecha()),this.modo===1)this.nombreAccion="Agregar",this.resetForm();else if(this.modo===2){if(this.listaCaracteristicasProductoBK=i.caracteristicas,this.filtrarListadoFinalCaracteristicasProducto(),this.listaCaracteristicasProducto&&this.listaCaracteristicasProducto.length>0){let e=1;this.listaCaracteristicasProducto2=[],this.listaCaracteristicasProducto.forEach(d=>{d.idTemporal=e++,this.filtrarCaracteristicasProducto(d.caracteristica)})}this.nombreAccion="Editar",this.llenarForm(i)}else if(this.modo===3){if(this.listaCaracteristicasProductoBK=i.caracteristicas,this.filtrarListadoFinalCaracteristicasProducto(),this.listaCaracteristicasProducto&&this.listaCaracteristicasProducto.length>0){let e=1;this.listaCaracteristicasProducto2=[],this.listaCaracteristicasProducto.forEach(d=>{d.idTemporal=e++,this.filtrarCaracteristicasProducto(d.caracteristica)})}this.nombreAccion="Ver",this.llenarFormDisabled(i)}}modalEliminar(r){this.nombreAccion="Inactivar",this.mostrarModalEliminar=!0,this.deshabilitarBotones=!1,this.formEliminar=new E({id:new u({value:r.id,disabled:!0}),nombre:new u({value:r.nombre,disabled:!0})})}modalActivar(r){this.nombreAccion="Activar",this.mostrarModalActivar=!0,this.deshabilitarBotones=!1,this.formEliminar=new E({id:new u({value:r.id,disabled:!0}),nombre:new u({value:r.nombre,disabled:!0})})}guardar(){if(this.service.mostrarSpinner=!0,this.deshabilitarBotones=!0,this.mostrarMensaje=!1,this.listaCaracteristicasProducto&&(this.listaCaracteristicasSeleccionadas.forEach(r=>{let i=this.listaCaracteristicasProducto.filter(e=>e.caracteristica.id===r.id);(!i||i&&i.length===0)&&(this.mostrarMensaje=!0)}),this.mostrarMensaje)){this.service.mostrarSpinner=!1,this.deshabilitarBotones=!1,this.type="danger",this.mensaje="Error, si seleccina al menos una caracter\xEDstica; debe ingresar m\xEDnimo entre 1 y 5 valores por caracter\xEDstica, tomar en cuenta que m\xE1ximo se pueden ingresar 5 caracter\xEDsticas",this.topElement.nativeElement.scrollIntoView({behavior:"smooth",block:"start"}),setTimeout(()=>{this.mostrarMensaje=!1},7e3);return}if(this.modo===1){if(this.form&&this.form.valid){let r=this.llenarObjeto(this.form);this.service.saveEntity("productos",r).subscribe(i=>{this.type=i.error?"danger":"success",this.mensaje=i.mensaje,this.deshabilitarBotones=!0,this.valorCaracteristica.disable(),this.mostrarMensaje=!0,this.service.mostrarSpinner=!1,setTimeout(()=>{this.mostrarMensaje=!1,this.mostrarModalCrud=!!i.error,this.deshabilitarBotones=!i.error,this.valorCaracteristica.enable(),this.deshabilitarBotones&&(this.valorCaracteristica.disable(),this.mostrarAccordion=!1,this.mostrarImagen=!1),i.error||(this.resetFormFiltros(),this.getValuesByPage(this.formFiltros.controls.id.value.toString().trim(),this.formFiltros.controls.nombre.value.toString(),this.formFiltros.controls.precioInicio.value,this.formFiltros.controls.precioFin.value,this.formFiltros.controls.tipoProducto.value,this.formFiltros.controls.estado.value,0,this.pagination.pageSize))},2e3)},i=>{this.type="danger",this.mensaje="Ha ocurrido un error al insertar los datos",this.mostrarMensaje=!0,setTimeout(()=>{this.mostrarMensaje=!1},1500),console.error("Error al consumir Post")})}}else if(this.modo===2&&this.form&&this.form.valid){let r=this.llenarObjeto(this.form);this.service.editEntity("productos",r).subscribe(i=>{this.type=i.error?"danger":"success",this.mensaje=i.mensaje,this.deshabilitarBotones=!0,this.valorCaracteristica.disable(),this.mostrarMensaje=!0,this.service.mostrarSpinner=!1,setTimeout(()=>{this.mostrarMensaje=!1,this.mostrarModalCrud=!!i.error,this.deshabilitarBotones=!i.error,this.valorCaracteristica.enable(),this.deshabilitarBotones&&(this.mostrarAccordion=!1,this.valorCaracteristica.disable(),this.mostrarImagen=!1),i.error||(this.resetFormFiltros(),this.getValuesByPage(this.formFiltros.controls.id.value.toString().trim(),this.formFiltros.controls.nombre.value.toString(),this.formFiltros.controls.precioInicio.value,this.formFiltros.controls.precioFin.value,this.formFiltros.controls.tipoProducto.value,this.formFiltros.controls.estado.value,0,this.pagination.pageSize))},2e3)},i=>{this.service.mostrarSpinner=!1,this.deshabilitarBotones=!1,this.type="danger",this.mensaje="Ha ocurrido un error al actualizar los datos",this.mostrarMensaje=!0,setTimeout(()=>{this.mostrarMensaje=!1},1500),console.error("Error al consumir Post")})}this.topElement.nativeElement.scrollIntoView({behavior:"smooth",block:"start"})}eliminar(){return $(this,null,function*(){this.deshabilitarBotones=!0,this.service.mostrarSpinner=!0,this.service.deleteEntity("productos",this.formEliminar.controls.id.value).subscribe(r=>{this.type=r.error?"danger":"success",this.mensaje=r.mensaje,this.deshabilitarBotones=!0,this.mostrarMensaje=!0,this.service.mostrarSpinner=!1,setTimeout(()=>{this.mostrarModalEliminar=!!r.error,this.deshabilitarBotones=!1,this.mostrarMensaje=!1,r.error||this.getValuesByPage(this.formFiltrosBK.controls.id.value.toString().trim(),this.formFiltrosBK.controls.nombre.value.toString(),this.formFiltrosBK.controls.precioInicio.value,this.formFiltrosBK.controls.precioFin.value,this.formFiltrosBK.controls.tipoProducto.value,this.formFiltrosBK.controls.estado.value,0,this.pagination.pageSize)},2e3)},r=>{this.service.mostrarSpinner=!1,this.type="danger",this.deshabilitarBotones=!1,this.mensaje="Ha ocurrido un error al eliminar el registro",this.mostrarMensaje=!0,setTimeout(()=>{this.mostrarMensaje=!1},2e3),console.error("Error al consumir delete")})})}activar(){return $(this,null,function*(){this.deshabilitarBotones=!0,this.service.mostrarSpinner=!0,this.service.activarProducto("productos","activar",this.formEliminar.controls.id.value,null).subscribe(r=>{this.type=r.error?"danger":"success",this.mensaje=r.mensaje,this.deshabilitarBotones=!0,this.mostrarMensaje=!0,this.service.mostrarSpinner=!1,setTimeout(()=>{this.mostrarModalActivar=!!r.error,this.deshabilitarBotones=!1,this.mostrarMensaje=!1,r.error||this.getValuesByPage(this.formFiltrosBK.controls.id.value.toString().trim(),this.formFiltrosBK.controls.nombre.value.toString(),this.formFiltrosBK.controls.precioInicio.value,this.formFiltrosBK.controls.precioFin.value,this.formFiltrosBK.controls.tipoProducto.value,this.formFiltrosBK.controls.estado.value,0,this.pagination.pageSize)},2e3)},r=>{this.service.mostrarSpinner=!1,this.type="danger",this.deshabilitarBotones=!1,this.mensaje="Ha ocurrido un error al eliminar el registro",this.mostrarMensaje=!0,setTimeout(()=>{this.mostrarMensaje=!1},2e3),console.error("Error al consumir delete")})})}showModalFilters(){this.deshabilitarBotones=!1,this.nombreAccion="Filtrar",this.resetFormFiltros(),this.mostrarModalFiltro=!0}closeModal(){this.filtrar(),this.mostrarImagen=!1,this.resetForm(),this.mostrarAccordion=!1,this.mostrarModalCrud=!1}closeModalDelete(){this.resetForm(),this.mostrarModalEliminar=!1}closeModalActivar(){this.resetForm(),this.mostrarModalActivar=!1}closeModalFilters(){this.resetFormFiltros(),this.mostrarModalFiltro=!1}moverADerecha(){let r=this.listaCaracteristicas2.filter(i=>i.seleccionado===!0);r&&r.length>0&&(r.forEach(i=>{this.listaCaracteristicasSeleccionadas.push(i)}),this.listaCaracteristicas2=this.listaCaracteristicas2.filter(i=>i.seleccionado===!1),this.listaCaracteristicasSeleccionadas.forEach(i=>i.seleccionado=!1),this.listaCaracteristicasSeleccionadas.sort((i,e)=>i.nombre.localeCompare(e.nombre))),this.filtrarListadoFinalCaracteristicasProducto()}moverAIzquierda(){let r=this.listaCaracteristicasSeleccionadas.filter(i=>i.seleccionado===!0);r&&r.length>0&&(r.forEach(i=>{this.listaCaracteristicas2.push(i)}),this.listaCaracteristicasSeleccionadas=this.listaCaracteristicasSeleccionadas.filter(i=>i.seleccionado===!1),this.listaCaracteristicas2.forEach(i=>i.seleccionado=!1),this.listaCaracteristicas2.sort((i,e)=>i.nombre.localeCompare(e.nombre))),this.filtrarListadoFinalCaracteristicasProducto()}eliminarCaracteristicaProducto(r){this.listaCaracteristicasProducto=this.listaCaracteristicasProducto.filter(i=>i.idTemporal!==Number(r.idTemporal)),this.filtrarCaracteristicasProducto(r.caracteristica)}agregarCaracteristicaProducto(r,i,e){this.mostrarMensaje2=!1,this.mensaje2="";let d=new W(null,null,r,i,e);if(d.idTemporal=this.listaCaracteristicasProducto.length+1,this.listaCaracteristicasProducto.find(v=>v.valor.toLowerCase()===i.toLowerCase())){this.mostrarMensaje2=!0,this.mensaje2="Error, valor de caracter\xEDstica repetido";return}this.listaCaracteristicasProducto.push(d),this.filtrarCaracteristicasProducto(r),this.valorCaracteristica.setValue(""),this.precioCaracteristica.setValue(""),this.valorCaracteristica.markAsUntouched(),this.precioCaracteristica.markAsUntouched()}filtrarCaracteristicasProducto(r){this.valorCaracteristica.setValue(""),this.precioCaracteristicaLista.setValue(""),this.listaCaracteristicasProducto2=this.listaCaracteristicasProducto.filter(i=>i.caracteristica.id===Number(r.id))}validarSeleccionados(){if(this.listaCaracteristicas){let r=0;if(this.listaCaracteristicas.forEach(i=>{i.seleccionado&&r++}),r===5||this.listaCaracteristicasSeleccionadas.length+r==5)return!0}return!1}filtrarListadoFinalCaracteristicasProducto(){this.listaCaracteristicasProducto=[],this.listaCaracteristicasSeleccionadas.forEach(r=>{this.listaCaracteristicasProductoBK.filter(i=>i.caracteristica.id===r.id).forEach(i=>{this.listaCaracteristicasProducto.push(i)})})}removeSpacesString(r,i){this.deshabilitarFuncionalidadValores=!1,i.valor=r.toString().trim(),i.valor===""&&(this.deshabilitarFuncionalidadValores=!0)}removeSpacesFormControl(r){this.valorCaracteristica.setValue(this.valorCaracteristica.value.toString().trim())}recibirImagen(r){this.imageSrc=r}campoRequerido(r,i){return this.precioInvalido=!1,i==="CR"&&r.value.trim()===""?(this.precioInvalido=!0,1):!/^\d{1,4}(\.\d{1,2})?$/.test(r.value)&&i==="DI"?(this.precioInvalido=!0,4):0}};m.\u0275fac=function(i){return new(i||m)(I(Te),I(Be),I(Me),I(ne))},m.\u0275cmp=L({type:m,selectors:[["app-productos"]],viewQuery:function(i,e){if(i&1&&te(tt,7),i&2){let d;ie(d=oe())&&(e.topElement=d.first)}},standalone:!0,features:[O],decls:183,vars:59,consts:[["topElement",""],["innerDiv",""],["item0","cAccordionItem"],["xs","12"],[1,"mb-4"],[1,"card-header"],[2,"display","flex","justify-content","space-between"],[1,"col-auto"],["cButton","","color","secondary","variant","outline","size","sm",3,"click"],["cIcon","","name","cilFilter"],["cButton","","color","success","variant","outline","size","sm",3,"click"],["cIcon","","name","cilPlus"],[1,"text-center","scroll"],["cTable","",3,"striped"],["scope","col"],[4,"ngFor","ngForOf"],[1,"row","col-12"],[1,"col-12","col-md-6",2,"margin-top","1vh","text-align","center"],[3,"pageChange","page","maxSize","pageSize","collectionSize"],[1,"col-12","col-md-6","d-flex","flex-column","flex-md-row","justify-content-end","align-items-center"],[1,"form-select","form-select-sm",3,"ngModelChange","change","ngModel"],["value","5"],["value","10"],["value","20"],["value","50"],["value","100"],[3,"close","submit","showModal","tittle","disabledSubmit","disabledOthersButtons","showSubmit"],[1,"d-flex","justify-content-center"],[1,"col-12"],["cForm","",3,"formGroup"],[3,"color",4,"ngIf"],["class","mb-2",4,"ngIf"],[1,"mb-2"],["for","nombre",1,"fw-bold"],["id","nombre","autoComplete","nombre","formControlName","nombre","cFormControl","",3,"blur","maxLength","valid"],[3,"valid"],["for","descripcion",1,"fw-bold"],["id","descripcion","autoComplete","descripcion","formControlName","descripcion","cFormControl","",3,"blur","maxLength","valid"],["for","precio",1,"fw-bold"],["id","precio","autoComplete","precio","formControlName","precio","cFormControl","",3,"blur","maxLength","valid"],[3,"valid",4,"ngIf"],["for","tipoProducto",1,"fw-bold"],["id","tipoProducto","cSelect","","formControlName","tipoProducto"],[3,"value",4,"ngFor","ngForOf"],[1,"fw-bold"],[3,"maxHeight","minHeight","maxWidth","minWidth","modo","imageSrc","fileChange",4,"ngIf"],["class","fw-bold",4,"ngIf"],["class","contenedor-con-fondo",4,"ngIf"],[4,"ngIf"],[1,"justify-content-center","col-11"],[3,"formGroup",4,"ngIf"],["cIcon","","name","cilZoom"],["cButton","","color","info","variant","outline","size","sm",3,"click",4,"ngIf"],["cButton","","color","warning","variant","outline","size","sm",3,"click",4,"ngIf"],["cButton","","color","primary","variant","outline","size","sm",3,"click",4,"ngIf"],["cButton","","color","info","variant","outline","size","sm",3,"click"],["cIcon","","name","cilPencil"],["cButton","","color","warning","variant","outline","size","sm",3,"click"],["cIcon","","name","cilBan"],["cButton","","color","primary","variant","outline","size","sm",3,"click"],["cIcon","","name","cilToggleOn"],[3,"color"],["for","id",1,"fw-bold"],["id","id","autoComplete","id","formControlName","id","cFormControl",""],[3,"value"],[3,"fileChange","maxHeight","minHeight","maxWidth","minWidth","modo","imageSrc"],[1,"contenedor-con-fondo"],[1,"mb-2","col-12","row"],[1,"col-4"],["cListGroup","",2,"max-width","100%","overflow","auto"],["class","listas","cListGroupItem","",3,"active","disabled","click",4,"ngFor","ngForOf"],[1,"col-2"],["cButton","",3,"click","disabled"],["class","listas","cListGroupItem","",3,"active","click",4,"ngFor","ngForOf"],["cListGroupItem","",1,"listas",3,"click","active","disabled"],["cListGroupItem","",1,"listas",3,"click","active"],[4,"ngTemplateOutlet"],[3,"formGroup"],[2,"word-wrap","break-word"],["autoComplete","id","formControlName","id","cFormControl","",3,"blur"],["autoComplete","nombre","formControlName","nombre","cFormControl","",3,"blur","maxLength"],["cSelect","","formControlName","precioInicio"],["cSelect","","formControlName","precioFin"],["cSelect","","formControlName","tipoProducto"],["cSelect","","formControlName","estado"],[3,"flush"],["class","small",4,"ngIf"],["color","danger",4,"ngIf"],[3,"visible",4,"ngFor","ngForOf"],[1,"small"],[2,"font-weight","bold"],["color","danger"],[3,"visible"],["cTemplateId","accordionHeaderTemplate"],["cTemplateId","accordionBodyTemplate"],["cAccordionButton","",3,"click","collapsed"],[1,"col-12","row"],[1,"col-5"],["class","col-12 col d-flex align-items-center",4,"ngIf"],["class","col-12 col d-flex align-items-center",3,"show",4,"ngFor","ngForOf"],[1,"col-12","col","d-flex","align-items-center",3,"show"],["cFormControl","","type","text",1,"form-control",2,"z-index","9999999999",3,"ngModelChange","blur","maxLength","ngModel","disabled","valid"],["cButton","","color","danger","variant","outline","style","z-index: 100;",3,"disabled","click",4,"ngIf"],["cButton","","color","danger","variant","outline",2,"z-index","100",3,"click","disabled"],["cIcon","","name","cilTrash"],[1,"col-12","col","d-flex","align-items-center"],["cFormControl","","type","text",1,"form-control",2,"z-index","9999999999","display","flex",3,"blur","maxLength","formControl","disabled","valid"],["cButton","","color","success","variant","outline",2,"z-index","100",3,"click","disabled"]],template:function(i,e){if(i&1){let d=b();n(0,"c-row"),o(1,`
  `),n(2,"c-col",3),o(3,`
    `),n(4,"c-card",4),o(5,`
      `),n(6,"c-card-header",5),o(7,`

        `),n(8,"div",6),o(9,`
          `),n(10,"strong"),o(11,"Productos"),a(),o(12,`
          `),n(13,"div",7),o(14,`
            `),n(15,"span"),o(16),a(),o(17,`
          `),a(),o(18,`
          `),n(19,"div"),o(20,`
            `),n(21,"button",8),h("click",function(){return _(d),f(e.showModalFilters())}),o(22,`
              `),y(),w(23,"svg",9),o(24,`
            `),a(),o(25,`
            `),Q(),n(26,"button",10),h("click",function(){return _(d),f(e.modal(1,null))}),o(27,`
              `),y(),w(28,"svg",11),o(29,`
            `),a(),o(30,`
          `),a(),o(31,`
        `),a(),o(32,`
      `),a(),o(33,`
      `),Q(),n(34,"c-card-body"),o(35,`
        `),n(36,"c-container"),o(37,`
          `),n(38,"div",12),o(39,`
            `),n(40,"table",13),o(41,`
              `),n(42,"thead"),o(43,`
              `),n(44,"tr"),o(45,`
                `),n(46,"th",14),o(47,"Id"),a(),o(48,`
                `),n(49,"th",14),o(50,"Nombre"),a(),o(51,`
                `),n(52,"th",14),o(53,"Descripci\xF3n"),a(),o(54,`
                `),n(55,"th",14),o(56,"Precio"),a(),o(57,`
                `),n(58,"th",14),o(59,"Tipo de producto"),a(),o(60,`
                `),n(61,"th",14),o(62,"Estado"),a(),o(63,`
                `),n(64,"th",14),o(65,"Acciones"),a(),o(66,`
              `),a(),o(67,`
              `),a(),o(68,`
              `),n(69,"tbody"),o(70,`
              `),g(71,nt,34,9,"tr",15),o(72,`
              `),a(),o(73,`
            `),a(),o(74,`
          `),a(),o(75,`
          `),n(76,"div",16),o(77,`
            `),n(78,"div",17),o(79,`
              `),n(80,"div",7),o(81,`
                `),n(82,"ngb-pagination",18),k("pageChange",function(C){return _(d),j(e.pagination.page,C)||(e.pagination.page=C),f(C)}),h("pageChange",function(C){return _(d),f(e.changePage(C-1))}),a(),o(83,`
              `),a(),o(84,`
            `),a(),o(85,`
            `),n(86,"div",19),o(87,`
              `),n(88,"div",7),o(89,`
                `),n(90,"span"),o(91,"Registros por p\xE1gina:"),a(),o(92,`
              `),a(),o(93,`
              `),n(94,"div",7),o(95,`
                `),n(96,"select",20),k("ngModelChange",function(C){return _(d),j(e.pagination.pageSize,C)||(e.pagination.pageSize=C),f(C)}),h("change",function(C){return _(d),f(e.changeSize(C.target))}),o(97,`
                  `),n(98,"option",21),o(99,"5"),a(),o(100,`
                  `),n(101,"option",22),o(102,"10"),a(),o(103,`
                  `),n(104,"option",23),o(105,"20"),a(),o(106,`
                  `),n(107,"option",24),o(108,"50"),a(),o(109,`
                  `),n(110,"option",25),o(111,"100"),a(),o(112,`
                `),a(),o(113,`
              `),a(),o(114,`
            `),a(),o(115,`
          `),a(),o(116,`
        `),a(),o(117,`
      `),a(),o(118,`
    `),a(),o(119,`
  `),a(),o(120,`
`),a(),w(121,"app-custom-spinner"),n(122,"app-modal-crud",26),h("close",function(){return _(d),f(e.closeModal())})("submit",function(){return _(d),f(e.guardar())}),n(123,"div",27,0)(125,"div",28)(126,"form",29),g(127,at,2,2,"c-alert",30),n(128,"div",7),g(129,st,5,0,"c-input-group",31),n(130,"c-input-group",32)(131,"div",28)(132,"label",33),o(133),a(),n(134,"input",34),h("blur",function(){return _(d),f(e.functionsUtils.removeSpaces("nombre",e.form))}),a(),n(135,"c-form-feedback",35),o(136,"Campo requerido."),a()()(),n(137,"c-input-group",32)(138,"div",28)(139,"label",36),o(140),a(),n(141,"textarea",37),h("blur",function(){return _(d),f(e.functionsUtils.removeSpaces("descripcion",e.form))}),a(),n(142,"c-form-feedback",35),o(143,"Campo requerido."),a()()(),n(144,"c-input-group",32)(145,"div",28)(146,"label",38),o(147),a(),n(148,"input",39),h("blur",function(){return _(d),f(e.functionsUtils.removeSpaces("precio",e.form))}),a(),g(149,lt,2,1,"c-form-feedback",40)(150,ct,2,1,"c-form-feedback",40),a()(),n(151,"c-input-group",32)(152,"div",28)(153,"label",41),o(154),a(),n(155,"select",42),g(156,mt,2,2,"option",43),a(),n(157,"c-form-feedback",35),o(158,"Campo requerido."),a()()(),n(159,"c-input-group",32)(160,"div",28)(161,"label",44),o(162),a(),g(163,dt,1,6,"app-image-upload",45),n(164,"c-form-feedback",35),o(165,"Campo requerido."),a()()(),g(166,pt,2,1,"label",46)(167,ft,14,4,"div",47)(168,gt,2,1,"div",48),a()()()()(),n(169,"app-modal-delete",26),h("close",function(){return _(d),f(e.closeModalDelete())})("submit",function(){return _(d),f(e.eliminar())}),n(170,"div",49),g(171,vt,2,2,"c-alert",30)(172,Ct,3,3,"form",50),a()(),n(173,"app-modal-delete",26),h("close",function(){return _(d),f(e.closeModalActivar())})("submit",function(){return _(d),f(e.activar())}),n(174,"div",49),g(175,bt,2,2,"c-alert",30)(176,xt,3,3,"form",50),a()(),n(177,"app-modal-filters",26),h("close",function(){return _(d),f(e.closeModalFilters())})("submit",function(){return _(d),f(e.filtrar())}),n(178,"div",49),g(179,St,2,2,"c-alert",30)(180,yt,42,8,"div",48),a()(),g(181,zt,4,4,"ng-template",null,1,re)}i&2&&(l(16),x("Total: ",e.pagination.collectionSize,""),l(24),c("striped",!0),l(31),c("ngForOf",e.listResponse),l(11),B("page",e.pagination.page),c("maxSize",e.pagination.maxSize)("pageSize",e.pagination.pageSize)("collectionSize",e.pagination.collectionSize),l(14),B("ngModel",e.pagination.pageSize),l(26),c("showModal",e.mostrarModalCrud)("tittle",e.nombreAccion)("disabledSubmit",e.form.invalid||e.deshabilitarBotones||e.imageSrc===""||e.deshabilitarFuncionalidadValores)("disabledOthersButtons",e.deshabilitarBotones)("showSubmit",e.modo!==3),l(4),c("formGroup",e.form),l(),c("ngIf",e.mostrarMensaje),l(2),c("ngIf",e.modo!==1),l(4),x("Nombre ",e.modo===1||e.modo===2?"*":"",""),l(),c("maxLength",100)("valid",e.functionsUtils.campoRequerido(e.form,"nombre","CR")==1?!1:null),l(),c("valid",!1),l(5),x("Descripci\xF3n ",e.modo===1||e.modo===2?"*":"",""),l(),c("maxLength",300)("valid",e.functionsUtils.campoRequerido(e.form,"descripcion","CR")==1?!1:null),l(),c("valid",!1),l(5),x("Precio ",e.modo===1||e.modo===2?"*":"",""),l(),c("maxLength",7)("valid",(e.functionsUtils.campoRequerido(e.form,"precio","CR")==1||e.functionsUtils.campoRequerido(e.form,"precio","DI")==4)&&e.form.controls.precio.touched?!1:null),l(),c("ngIf",e.functionsUtils.getValueMap("precio")==1),l(),c("ngIf",e.functionsUtils.getValueMap("precio")==4),l(4),x("Tipo de producto ",e.modo===1||e.modo===2?"*":"",""),l(2),c("ngForOf",e.listaTipoProducto),l(),c("valid",!1),l(5),x("Imagen ",e.modo===1||e.modo===2?"*":"",""),l(),c("ngIf",e.mostrarImagen),l(),c("valid",!1),l(2),c("ngIf",e.modo!==3||e.modo===3&&e.listaCaracteristicasSeleccionadas&&e.listaCaracteristicasSeleccionadas.length>0),l(),c("ngIf",e.modo!==3),l(),c("ngIf",e.listaCaracteristicasSeleccionadas&&e.listaCaracteristicasSeleccionadas.length>0&&e.mostrarAccordion),l(),c("showModal",e.mostrarModalEliminar)("tittle",e.nombreAccion)("disabledSubmit",e.deshabilitarBotones)("disabledOthersButtons",e.deshabilitarBotones)("showSubmit",!0),l(2),c("ngIf",e.mostrarMensaje),l(),c("ngIf",e.formEliminar),l(),c("showModal",e.mostrarModalActivar)("tittle",e.nombreAccion)("disabledSubmit",e.deshabilitarBotones)("disabledOthersButtons",e.deshabilitarBotones)("showSubmit",!0),l(2),c("ngIf",e.mostrarMensaje),l(),c("ngIf",e.formEliminar),l(),c("showModal",e.mostrarModalFiltro)("tittle",e.nombreAccion)("disabledSubmit",e.deshabilitarBotones)("disabledOthersButtons",e.deshabilitarBotones)("showSubmit",!0),l(2),c("ngIf",e.mostrarMensaje),l(),c("ngIf",e.formFiltros))},dependencies:[ge,he,Se,fe,Pe,we,Ve,Ie,D,ae,z,se,ue,le,Ke,U,De,Ne,je,ze,ke,N,Ae,be,qe,q,Ge,Re,ve,Ce,_e,xe,G,Le,K,Oe,We,He,Fe,Ee,ye,me,de,pe,ce,$e],styles:['@charset "UTF-8";ngb-pagination[_ngcontent-%COMP%]     ul>li:not(.active)>a{color:#00b3bae6!important}ngb-pagination[_ngcontent-%COMP%]     ul>li.active>a{background-color:#00b3bae6!important;border-color:#00b3ba80!important}.listas[_ngcontent-%COMP%]:hover{cursor:pointer}.contenedor-con-fondo[_ngcontent-%COMP%]{background-color:#f8f9fa;padding:20px;height:300px;overflow-y:scroll;white-space:normal;word-wrap:break-word;overflow-wrap:break-word}.col-2[_ngcontent-%COMP%], .col-4[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center}.scroll[_ngcontent-%COMP%]{max-height:55vh;overflow:scroll}@media only screen and (max-width: 767px){td[_ngcontent-%COMP%]{word-wrap:break-word;max-width:50vw}}@media only screen and (min-width: 768px) and (max-width: 1023px){td[_ngcontent-%COMP%]{word-wrap:break-word;max-width:40vw}}@media only screen and (min-width: 1024px){td[_ngcontent-%COMP%]{word-wrap:break-word;max-width:10vw}}li[_ngcontent-%COMP%]{cursor:pointer}']});let s=m;return s})();export{vi as ProductosComponent};
